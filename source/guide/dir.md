# ディレクトリ構造

この配布物のディレクトリ構造は、以下のようになっています。

## ブランチについて

この配布物では、Dockerコンテナの組み合わせ(compose)により、以下の機能を提供するコンテナ群を生成します。

* PHP入りのWebサーバー
* データベース(MySQL)
    * 開発時はphpMyAdminによるWebアクセスがつきます

## 最低限必要なもの

* `public/`
    * 静的コンテンツの配置場所です
    * ここに置いたものがブラウザでアクセス可能となります
* `compose.yml`
    * 環境ビルドに使うファイルです
        * mainブランチの場合はPHP入りWebサーバーの起動だけです
        * dbブランチの場合はPHP入りWebサーバーとMySQLが起動します
* `env.txt`
    * 環境変数定義ファイルです
    * 開くとわかりますが、KEY=VALUE形式です
    * `compose.yml` から参照され、各コンテナで利用可能になります
    * データベースを使わない場合は消してかまいません
* `env-pma.txt`
    * 開発時にphpMyAdminによるGUIデータベース操作を行うときに参照される環境変数定義です
    * 基本的にいじる必要は無いと思いますが、phpMyAdminにだけ作用させたい変数がある場合は追記が必要です
        * あるのか?
    * データベース使わない場合は消してかまいません
* `db/`
    * データベースの初期化に使うデータ置場です
    * 初回起動の際にデータベースを初期化したいときはここにSQLテキストなどを配置してください
    * データベースを使わない場合は消してかまいません
* `.devcontainer`
    * 開発コンテナによる環境構築で使う構成ファイルです、基本的にいじらず使用します
    * main(開発環境) **普段はこちらで開発環境に入ってください**
    * test(テスト環境)

他のものはあまり気にしないでください。


## データベースを使用しない場合

データベースを使わない(HTML+PHP)コードの場合は、データベース部分は不要となるので、以下のものは消してかまいません。
放置しても特に問題ありませんが、開発コンテナ起動時に無駄にコンテナをつくるため起動が少し遅くなってしまいます。

* `env.txt`
* `env-pma.txt`
* `db`ディレクトリ

また、`compose.yml`ファイルを書き換えてデータベースの起動を抑制するといいでしょう。
下記の13行目(`db:`)以降を消すか、コメントアウト(`#`)してください。

```{literalinclude} src/compose.yml
:caption: compose.yml
:linenos:
:emphasize-lines: 13-
## 削除していいもの
